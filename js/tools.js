function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function capitaliseFirstLetter(e){for(var t=e.split(","),r="",n=0;n<t.length;n++)r+=t[n].charAt(0).toUpperCase()+t[n].slice(1).toLowerCase()+",";return r.substring(0,r.length-1)}function getHourDisplay(e){var t=e+"am";return e>12?(pm=e-12,t=pm+"pm"):12==e?t="noon":0==e&&(t="midnight"),t}function getWallpaper(){var e=(today.getDay()+0)%7,t="../images/Nature/nature"+e+".jpg",r=new Array('<a href="http://bit.ly/1nQuQcW">Port Campbell</a>','<a href="http://bit.ly/1gpOwA5">Opera House </a>','<a href="http://bit.ly/1fRBhSQ">White Haven Beach</a>','<a href="http://bit.ly/Q4aspW">Pinnacles, Nambung National Park</a>','<a href="http://bit.ly/1dn6fbo">Lake Mungo</a>','<a href="http://bit.ly/1f6rglo">12 Apostles </a>','<a href="http://bit.ly/1gNgpwr">Broken Hill</a>');return $("#imagedetails").html(r[e]),"url('"+t+"')"}function minsToMidnight(){var e=new Date,t=new Date(e);return t.setHours(24,0,0,0),Math.floor((t-e)/6e4)}function timeBetween(e,t){if(t>e){return formatTime(t-e)}}function timeBetweenElaborate(e,t){if(t>e){temp=formatTime(t-e).split(" ");var r=temp[0];return"1d"==temp[0]?r="One Day":-1!=temp[0].indexOf("d")?r=temp[0].replace("d"," days"):"1h"==temp[0]?r="One Hour":-1!=temp[0].indexOf("h")?r=temp[0].replace("h"," hours"):"1m"==temp[0]?r="One Minute":-1!=temp[0].indexOf("m")&&(r=temp[0].replace("m"," minutes")),r}}function formatTime(e){if(!e)return"0s";if((e=e.toFixed())<60)return e+"s";if(e<3600){var t=Math.floor(e/60);return t+"min "+(e-60*t)+"s"}if(e<86400){var r=Math.floor(e/3600),t=Math.floor(e/60-60*r);return r+"hr "+t+"min"}var n=Math.floor(e/86400),r=Math.floor((e-3600*n*24)/3600);return n+"d "+r+"hr"}function setBadge(e,t){e&&chrome.browserAction.setBadgeBackgroundColor({color:e}),t&&chrome.browserAction.setBadgeText({text:t})}function getTopSitesPermission(){chrome.permissions.request({permissions:["topSites"]},function(e){e&&(setTopSitesPermission(),showTopSites())})}function getSiteFromUrl(e){var t=/^(\w+:\/\/[^\/]+).*$/;return e.match(t)[1]}function getDomainName(e){var t=getSiteFromUrl(e).replace(/.*?:\/\//g,"");return t=t.replace("www.","")}function getSuperdomain(e){e=e.replace("www.","");var t=e.split("."),r=t.length;return 2==r?t[0]:r>2&&t[r-2].length>3?t[r-2]+t[r-3]:r>2?t[r-3]:t[0]}function getSuperdomainFull(e){var t=getSiteFromUrl(e).replace(/.*?:\/\//g,"");t=t.replace("www.","");var r=t.split("."),n=r.length;return 2==n?t:n>2&&r[n-2].length>3?r[n-2]+"."+r[n-1]:n>2?r[n-3]+"."+r[n-2]+"."+r[n-1]:t}function geolocation(e){navigator.geolocation.getCurrentPosition(function(t){var r=t.coords.latitude.toFixed(3),n=t.coords.longitude.toFixed(3),o='{"lat" : '+r+',"long" : '+n+"}";e(JSON.parse(o))},function(t){t.code==t.PERMISSION_DENIED&&e("")})}function getweatherFromYahoo(e){units="c";var t="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid%3D"+e+"%20and%20u%3D%22"+units+"%22&format=json&callback=";$.getJSON(t,function(e){if(1==e.query.count){var t=e.query.results.channel.item.condition;setWeather(t.temp,t.text)}})}